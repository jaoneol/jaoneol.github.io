---
title: Comparing Python HTTP Libraries
description: Let's learn `requests`, `httpx`, and `aiohttp`
author: DS2Man
date: 2025-04-12 11:00:00 +0000
categories: [Backend, FastAPI]
tags: [Backend, FastAPI]
math: true
pin: true
---

When working with HTTP communication in Python, three popular libraries often come up:  
**`requests`**, **`httpx`**, and **`aiohttp`**.

In this post, we’ll dive into the characteristics, usage examples, and differences between these libraries to help you choose the right one for your project.

## *requests*

**requests** is considered the de facto standard for making HTTP requests in Python.  
It is **synchronous** and known for its simplicity and readability.

#### *Key Features*

- Extremely easy to use
- Synchronous execution (waits for each response)
- Supports sessions, cookies, and various authentication mechanisms
- Extensive documentation and a huge community

#### *Example*

```python
url = "http://127.0.0.1:9248/ds2man/model1/async/batch"
data = {
    "question": "Where is the captial of Korea?",
    "user_name": "DS2Man"
}

start_time = time.time()
response = requests.get(url, params=data)
end_time = time.time()
elapsed_time = end_time - start_time
print(f"Duration: {elapsed_time:.2f}s")

pprint(response.json())
```


## *aiohttp*

**aiohttp** is a fully **asynchronous** HTTP client and server framework based on Python’s `asyncio`.  
It is designed for high-performance scenarios where scalability is critical.

#### *Key Features*

- 100% asynchronous    
- Provides both HTTP **client** and **server** capabilities    
- Supports WebSockets    
- Fine-grained connection management

#### *Example*

```python
import aiohttp
import asyncio

url = "http://127.0.0.1:9248/ds2man/model1/async/batch"
data = {
    "question": "Where is the capital of Korea?",
    "user_name": "DS2Man"
}
start = time.time()

async with aiohttp.ClientSession() as session:
    tasks = [session.get(url, params=data) for _ in range(3)]
    responses = await asyncio.gather(*tasks)

    # Each response must be processed and awaited
    for response in responses:
        result = await response.json()
        pprint(result)
        await response.release()  # Optional: explicitly release connection

end = time.time()
print(f"[aiohttp] Total time: {end - start:.2f} seconds")
```